{% extends 'TKUserManagerBundle::base.html.twig' %}


{% block extra_scripts %}
  {% javascripts combine=true filter='?yui_js'
    '@TKUserManagerBundle/Resources/public/js/collection.js'
    '@TKUserManagerBundle/Resources/public/js/form_validation.js'
  %}
    <script src="{{ asset_url }}"></script>
  {% endjavascripts %}
{% endblock %}

{% block content -%}
    <h1>Sign up</h1>
    
    {{ form_start(form) }}

      {{ form_row(form.firstName) }}
      {{ form_row(form.lastName) }}
      {{ form_row(form.age) }}
      {{ form_row(form.email) }}
      {{ form_row(form.password.first) }}
      {{ form_row(form.password.second) }}
      {{ form_row(form.userRole) }}

      <label>Addresses</label>

      <ul class="userAddresses" data-prototype="{{ form_widget(form.userAddresses.vars.prototype)|e }}">
        {% for userAddress in form.userAddresses %}
          <li class="userAddress">
            <div class="row">
              <div class="col-md-2 zip">{{ form_row(userAddress.zip) }}</div>
              <div class="col-md-4 city">{{ form_row(userAddress.city) }}</div>
              <div class="col-md-4 address">{{ form_row(userAddress.address) }}</div>
              <div class="col-md-2 addressButtons">
                {# <a href="#" class="btn btn-sm btn-primary"> <b>+</b> </a>
                <a href="#" class="btn btn-sm btn-primary"> <b>+</b> </a> #}
              </div>
            </div>
          </li>
        {% endfor %}
      </ul>
    {{ form_end(form) }}

   {#  {{ form(form) }} #}

        <ul class="record_actions">
    <li>
        <a href="{{ path('user') }}">
            Back to the list
        </a>
    </li>
</ul>
{% endblock %}
